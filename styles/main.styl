
accent-color = #8ef3af
bg-color = #a8a8a8
txt-color = #dde7e7
square-dimen = 80vmin
oneoversqrt2 = 0.707106781
oneminusoneoversqrt2 = 0.292893219
anilength = 0.8s

@font-face {
  font-family: 'Raleway';
  font-style: normal;
  font-weight: 200;
  src: local('Raleway ExtraLight'), local('Raleway-ExtraLight'), url(http://fonts.gstatic.com/s/raleway/v9/8KhZd3VQBtXTAznvKjw-kwzyDMXhdD8sAj6OAJTFsBI.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}

body
  font-family 'Raleway', sans-serif
  color txt-color
  background-color bg-color

::selection
  background-color accent-color
  color darken(bg-color, 30)

main
  width square-dimen
  height square-dimen
  position absolute
  left 50vw
  top 50vh
  margin-top -(@height / 2)
  margin-left -(@width / 2)

.displaynone
  display: none !important

.button
  display inline-block
  color darken(bg-color, 30)
  width 21vmin
  height 7vmin
  border-radius 0.5vmin
  background-color accent-color
  cursor pointer
  opacity 0
  position relative
  transition opacity anilength ease-in-out, margin anilength ease-in-out
  &.showing
    opacity 1
  ::selection
    background-color bg-color
    color accent-color
  span
    position absolute
    top 50%
    left 50%
    margin 0
    margin-right -50%
    transform translate(-50%, -50%)
    font-size 3vmin
    cursor pointer
  &:hover
    background-color darken(bg-color, 30)
    color txt-color
    ::selection
      background-color accent-color
      color darken(bg-color, 30)

section
  position absolute
  top 0
  left 0
  width 100%
  height 100%
  > header > h1
    position absolute
    top 14vmin
    left 14vmin
    opacity 0
    font-size 5vmin
    margin-top - oneoversqrt2 vmin
    margin-left oneoversqrt2 vmin
    transition opacity anilength ease-in, margin anilength ease-in
    &.opaque
      margin-top 0
      margin-left 0
      opacity 1
  nav
    display block
    position absolute
    top 50%
    left 50%
    margin 0
    margin-right -50%
    transform translate(-50%, -50%)
    transition transform anilength ease-in-out
    ul
      padding 0
      list-style-type none
      li
        display inline-block
        margin 2vmin
        &.showing
          margin 1vmin
  article
    // r = (W - 2M) / 2
    // a^2 = 2(w/2)^2
    // a = r
    // (W - 2M)^2 / 2^2 = 2(w/2)^2
    // (W-2M)^2 = 8 w^2 / 4
    // (W-2M)^2 = 2 w^2
    // W - 2M = sqrt(2) w
    // (W - 2M) / sqrt(2) = w
    // 2r + w = W
    // W - w = 2r
    // r = (W-w) / 2
    // r = (W - (W - 2M)/sqrt(2)) / 2
    // r = W(1 - 1/sqrt(2)) / 2 + M / sqrt(2)
    width oneoversqrt2 * (square-dimen - 6)
    height @width
    margin auto
    margin-top square-dimen * oneminusoneoversqrt2 * 0.5 + oneoversqrt2 * 3vmin
    opacity 1
    transition opacity (anilength / 8) ease-in-out
    font-size 2.5vmin
    text-align justify
    &.hidden
      opacity 0

